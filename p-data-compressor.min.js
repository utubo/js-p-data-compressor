// p-data-compressor
// Copyright (c) 2021 utubo under the [MIT](https://opensource.org/licenses/mit-license.php)
{let e=e=>{if(500<e.length)throw"too long"},t="ghijklmnopqrstuvwxyzABCDEFGHIJKLNMOPRSTUVWXYZ";var pdcEncode=l=>{e(l);let r=t.length,n=l.length,o="",f=0;for(;f<n;){let e,g,h=l.slice(0,f),i=f-r;for(let t=3;t<=n-f;t++){let r=h.indexOf(l.substr(f,t),i);if(-1===r)break;e=h.length-r,g=t}if(g)o+=t[g]+t[e];else{let e=l[f];for(o+=e,g=1;e===l[f+g]&&g<r;)g++;2<g?o+=t[g-1]+t[0]:g=1}f+=g}return o},pdcDecode=l=>{e(l);let r,n="";for(let o of l){e(n);let l=t.indexOf(o);-1===l?n+=o:r?(n+=l?n.substr(n.length-l,r):n[n.length-1].repeat(r),r=0):r=l}return n}}
