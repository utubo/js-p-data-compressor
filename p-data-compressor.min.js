// p-data-compressor
// Copyright (c) 2021 utubo under the [MIT](https://opensource.org/licenses/mit-license.php)
{let e=e=>{if(500<e.length)throw"too long"},t="ghijklmnopqrstuvwxyzABCDEFGHIJKLNMOPRSTUVWXYZ";var pdcEncode=l=>{e(l);let r=t.length,n=l.split(""),o="",f=l.length,g=0;for(;g<f;){let e,h,i=l.slice(0,g),s=g-r+1;for(let t=3;t<=f-g;t++){let r=i.indexOf(l.substr(g,t),s);if(-1===r)break;e=i.length-r,h=t}if(h)o+=t[h]+t[e];else{let e=n[g];for(o+=e,h=1;e===n[g+h]&&h<r;)h++;2<h?o+=t[h-1]+t[0]:h=1}g+=h}return o},pdcDecode=l=>{e(l);let r,n="";for(let o of l){e(n);let l=t.indexOf(o);-1===l?n+=o:r?(n+=l?n.substr(n.length-l,r):n[n.length-1].repeat(r),r=0):r=l}return n}}
